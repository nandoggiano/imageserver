doctype html
html
	head
		meta(http-equiv="content-type",content="text/html;,charset=UTF-8")
		meta(name="viewport" content="width=device-width")
		link(type="text/css" rel="stylesheet" href="css/common.css")
		title Angular file upload sample

		script(type="text/javascript")
			|// load angularjs specific version
			|var angularVersion = window.location.hash.substring(1);
			|if (angularVersion.indexOf('/') == 0) angularVersion = angularVersion.substring(1);
			|document.write('<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/' +
			|(angularVersion || '1.2.24') + '/angular.js"><\/script>');

		script(src="js/ng-file-upload-shim.js")
		script(src="js/ng-file-upload.js")
		script(src="js/upload.js")

		link(rel="stylesheet",href="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.8.0/codemirror.min.css")
		script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.8.0/codemirror.min.js")
		script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.8.0/mode/htmlmixed/htmlmixed.min.js")
		script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.8.0/mode/htmlembedded/htmlembedded.min.js")
		script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.8.0/mode/xml/xml.min.js")
		script(src="//cdnjs.cloudflare.com/ajax/libs/codemirror/4.8.0/mode/javascript/javascript.min.js")

	body(ng-app="fileUpload",ng-controller="MyCtrl")
		div(class="upload-buttons")
			div(id="editArea")
				div
					div
						form(name="myForm")
							fieldset
								legend Upload on form submit
								|Profile Picture: 
								input(type="file",ngf-select,ng-model="file",name="file",ngf-accept="'image/*'",required)
								i(ng-show="myForm.file.$error.required") *required
								br

								button(ng-disabled="!myForm.$valid",ng-click="update()") Submit
								img(ngf-src="file",class="thumb")
								span(class="progress",ng-show="file.progress >= 0")
									div(style="width:{{file.progress}}%",ng-bind="file.progress + '%'")
								span(ng-show="file.result") Upload Successful
							br
					br

